port: 7890
socks-port: 7891
mixed-port: 7893
allow-lan: true
mode: rule
log-level: info
ipv6: false

external-controller: 127.0.0.1:9090

#################################
# DNS (Ğ½ĞµĞ¹Ñ‚Ñ€Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹, ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹)
#################################
dns:
  enable: true
  ipv6: false
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16

  default-nameserver:
    - 1.1.1.1
    - 8.8.8.8

  nameserver:
    - https://dns.cloudflare.com/dns-query
    - https://dns.google/dns-query

#################################
# PROXY PROVIDERS
#################################
proxy-providers:

  BLACK:
    type: http
    url: https://raw.githubusercontent.com/igareck/vpn-configs-for-russia/refs/heads/main/BLACK_VLESS_RUS.txt
    interval: 3600
    path: ./providers/black.yaml
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300

  WHITE:
    type: http
    url: https://raw.githubusercontent.com/igareck/vpn-configs-for-russia/refs/heads/main/Vless-Reality-White-Lists-Rus-Mobile.txt
    interval: 3600
    path: ./providers/white.yaml
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300

  FINLAND:
    type: http
    url: https://raw.githubusercontent.com/igareck/vpn-configs-for-russia/refs/heads/main/FINLAND.txt
    interval: 3600
    path: ./providers/finland.yaml
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600

#################################
# TEST GROUPS â€” ĞŸĞ Ğ“ĞĞ ĞĞ”ĞĞœ
#################################

# ğŸ‡©ğŸ‡ª Ğ“ĞµÑ€Ğ¼Ğ°Ğ½Ğ¸Ñ â€” Frankfurt
- name: "ğŸ® TEST-DE-FRA"
  type: url-test
  use:
    - BLACK
    - WHITE
  filter: "(Frankfurt|FRA)"
  url: http://www.gstatic.com/generate_204
  interval: 120
  tolerance: 30
  lazy: false

# ğŸ‡µğŸ‡± ĞŸĞ¾Ğ»ÑŒÑˆĞ° â€” Warsaw
- name: "ğŸ® TEST-PL-WAW"
  type: url-test
  use:
    - BLACK
    - WHITE
  filter: "(Warsaw|WAW)"
  url: http://www.gstatic.com/generate_204
  interval: 120
  tolerance: 30
  lazy: false

# ğŸ‡³ğŸ‡± ĞĞ¸Ğ´ĞµÑ€Ğ»Ğ°Ğ½Ğ´Ñ‹ â€” Amsterdam
- name: "ğŸ® TEST-NL-AMS"
  type: url-test
  use:
    - BLACK
    - WHITE
  filter: "(Amsterdam|AMS)"
  url: http://www.gstatic.com/generate_204
  interval: 120
  tolerance: 40
  lazy: false

# ğŸ‡«ğŸ‡® Ğ¤Ğ¸Ğ½Ğ»ÑĞ½Ğ´Ğ¸Ñ â€” Helsinki (ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¸Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº)
- name: "ğŸ® TEST-FI-HEL"
  type: url-test
  use:
    - FINLAND
  filter: "(Helsinki|HEL-0[1-9]|HEL-[1-9])"
  url: http://www.gstatic.com/generate_204
  interval: 180
  tolerance: 40
  lazy: false

#################################
# ĞŸĞ ĞĞ¢ĞĞšĞĞ›Ğ¬ĞĞ«Ğ• Ğ¢Ğ•Ğ¡Ğ¢Ğ« (SS / HY)
#################################

# Shadowsocks (ĞµÑĞ»Ğ¸ ĞµÑÑ‚ÑŒ Ğ² ÑĞ¿Ğ¸ÑĞºĞ°Ñ…)
- name: "ğŸ§ª TEST-SS"
  type: url-test
  use:
    - BLACK
    - WHITE
  filter: "(SS|Shadowsocks)"
  url: http://www.gstatic.com/generate_204
  interval: 180
  tolerance: 50
  lazy: false

# Hysteria2 / HY3
- name: "ğŸ§ª TEST-HY"
  type: url-test
  use:
    - BLACK
    - WHITE
  filter: "(Hysteria|HY2|HY3)"
  url: http://www.gstatic.com/generate_204
  interval: 180
  tolerance: 60
  lazy: false

#################################
# MASTER TEST SELECTOR
#################################
- name: "ğŸ® GAME-TEST"
  type: select
  proxies:
    - ğŸ® TEST-DE-FRA
    - ğŸ® TEST-PL-WAW
    - ğŸ® TEST-NL-AMS
    - ğŸ® TEST-FI-HEL
    - ğŸ§ª TEST-SS
    - ğŸ§ª TEST-HY

#################################
# RULES
#################################
rules:
  - DOMAIN-SUFFIX,roblox.com,ğŸ® GAME-TEST
  - DOMAIN-SUFFIX,rbxcdn.com,ğŸ® GAME-TEST

  - DOMAIN-SUFFIX,openai.com,ğŸ® GAME-TEST
  - DOMAIN-SUFFIX,chatgpt.com,ğŸ® GAME-TEST

  - GEOIP,RU,DIRECT
  - MATCH,ğŸ® GAME-TEST
