port: 7890
socks-port: 7891
mixed-port: 7893
allow-lan: true
mode: rule
log-level: info
ipv6: false

external-controller: 127.0.0.1:9090

#################################
# DNS
#################################
dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:1053
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16

  default-nameserver:
    - 1.1.1.1
    - 8.8.8.8

  nameserver:
    - https://dns.cloudflare.com/dns-query
    - https://dns.google/dns-query

  fallback:
    - https://1.1.1.1/dns-query
    - https://8.8.8.8/dns-query

  fallback-filter:
    geoip: true
    geoip-code: RU
    ipcidr:
      - 240.0.0.0/4

#################################
# Proxy Providers
#################################
proxy-providers:
  BLACK:
    type: http
    url: https://raw.githubusercontent.com/igareck/vpn-configs-for-russia/refs/heads/main/BLACK_VLESS_RUS.txt
    interval: 3600
    path: ./providers/black.yaml  # –õ–æ–∫–∞–ª—å–Ω—ã–π –ø—É—Ç—å –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
      max-failed-times: 5
      latency-cutoff: 300  # –ú–∞–∫—Å–∏–º—É–º 300 –º—Å

  WHITE:
    type: http
    url: https://raw.githubusercontent.com/igareck/vpn-configs-for-russia/refs/heads/main/Vless-Reality-White-Lists-Rus-Mobile.txt
    interval: 3600
    path: ./providers/white.yaml  # –õ–æ–∫–∞–ª—å–Ω—ã–π –ø—É—Ç—å –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
      max-failed-times: 5
      latency-cutoff: 300  # –ú–∞–∫—Å–∏–º—É–º 300 –º—Å

  FINLAND:
    type: http
    url: https://raw.githubusercontent.com/igareck/vpn-configs-for-russia/refs/heads/main/Finland_VPN_List.txt
    interval: 3600
    path: ./providers/finland.yaml  # –õ–æ–∫–∞–ª—å–Ω—ã–π –ø—É—Ç—å –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
      max-failed-times: 5
      latency-cutoff: 300  # –ú–∞–∫—Å–∏–º—É–º 300 –º—Å

#################################
# Proxy Groups
#################################
proxy-groups:
  - name: "üéÆ GAME"
    type: url-test
    use:
      - BLACK
      - WHITE
      - FINLAND
    filter: "(Poland|Finland|Germany|Latvia|Lithuania)"
    url: http://www.gstatic.com/generate_204
    interval: 120
    tolerance: 25
    lazy: true
    disable-udp: false

  - name: "ü§ñ CHATGPT"
    type: fallback
    use:
      - WHITE
      - FINLAND
      - BLACK
    filter: "(Poland|Finland|Germany|Canada)"
    url: http://www.gstatic.com/generate_204
    interval: 180

  - name: "üåç INTERNET"
    type: url-test
    use:
      - WHITE
      - BLACK
      - FINLAND
    filter: "(Poland|Finland|Germany|Latvia|Lithuania)"
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 40
    lazy: true

  - name: "üîÅ FALLBACK"
    type: fallback
    use:
      - WHITE
      - FINLAND
      - BLACK
    filter: "(Poland|Finland|Germany|Canada)"
    url: http://www.gstatic.com/generate_204
    interval: 300

#################################
# Rules
#################################
rules:
  - DOMAIN-SUFFIX,openai.com,ü§ñ CHATGPT
  - DOMAIN-SUFFIX,chatgpt.com,ü§ñ CHATGPT
  - DOMAIN-SUFFIX,roblox.com,üéÆ GAME
  - DOMAIN-SUFFIX,rbxcdn.com,üéÆ GAME
  - GEOIP,RU,DIRECT
  - MATCH,üåç INTERNET
